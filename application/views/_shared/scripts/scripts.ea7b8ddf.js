"use strict";var AnalyticsApp=angular.module("analyticsApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/old_main",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"old_main"}).when("/",{templateUrl:"../application/views/_shared/_catalog.php",controller:"CatalogCtrl",controllerAs:"CatalogCtrl"}).when("/analytics",{templateUrl:"views/profile_manager.html",controller:"ProfileManagerCtrl",controllerAs:"ProfileManagerCtrl"}).when("/single_profile",{templateUrl:"views/profile.html",controller:"ProfileCtrl",controllerAs:"ProfileCtrl"}).otherwise({redirectTo:"/"})}]);angular.module("analyticsApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),AnalyticsApp.controller("ProfileManagerCtrl",["$scope","$location",function(a,b){a.apps=["Black Forest Monthly"],a.appMenu=angular.element("#app_menu"),console.log(a.appMenu),console.log("Adding: "+a.apps[0]),a.open_app=function(a){console.log(a),b.path("/single_profile")},a.delete_app=function(a){alert("Delete "+a)},a.edit_app=function(a){alert("Edit "+a)},a.add_app=function(){var b=a.new_profile_name;a.apps.indexOf(b)>=0?alert("Profile "+b+" already exists!"):a.apps.push(b)}}]),AnalyticsApp.controller("ProfileCtrl",["$scope","fileUpload",function(a,b){a.files=["BFSL NAV","Drawn Capital"],a.upload_file=function(){var c=a.myFile,d="http://localhost/gatekeeper/index.php/Test/ClientFiles";b.uploadFileToUrl(c,d),console.log("file upload function finished.")},a.start_engine=function(){},a.publish_report=function(){}}]),AnalyticsApp.controller("CatalogCtrl",["$scope","$location",function(a,b){a.apps=["Monthly Report"],a.app_address={"Monthly Report":"analytics",Administration:"admin"},a.load_template=function(){b.path("/")},a.open_application=function(c){var d=a.app_address[c];console.log("Opening "+d),b.path("analytics")}}]),AnalyticsApp.service("fileUpload",["$http",function(a){this.uploadFileToUrl=function(b,c){var d=new FormData;d.append("file",b),a.post(c,d,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}}]),AnalyticsApp.directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}]),angular.module("analyticsApp").run(["$templateCache",function(a){a.put("views/catalog.html",'<br> <div class="header">Applications</div> <div class="jumbotron catalog_base"> <div class="row"> <div class="col-sm-4" ng-repeat="app_name in apps"> <div class="btn btn-default application-button" ng-click="open_application(app_name)"> {{app_name}} </div> </div> </div> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.c582c4d1.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/profile.html",'<div class="container"> <h1 class="profile_header">Black Forest Monthly</h1> <br> <form class="form-group"> <div class="list-group form-group profile-input-list"> <div ng-repeat="file_name in files" class="list-group-item file_upload_row"> <span class="custom-file-control">Choose {{file_name}}</span> <label class="btn btn-default btn-file"> Browse <input type="file" style="display: none" file-model="myFile" class="custom-file-input"> </label> </div> </div> <button class="btn btn-secondary btn-lg btn-block profile_submit" ng-click="upload_file()">Publish Report</button> </form> </div>'),a.put("views/profile_manager.html",'<header class="header">Monthly Reports</header> <div class="jumbotron"> <ul class="list-inline profile_add"> <li class="list-group-item"><button class="btn btn-default" ng-click="add_app();">+</button></li> <li class="list-group-item"><input class="input-sm" placeholder="Profile Name" ng-model="new_profile_name"></li> </ul> <br> <br> <div class="container profile_container"> <div id="app_menu" class="row"> <div ng-repeat="profile_name in apps" class="card col-sm-3 profile" style="width: 25rem"> <div class="card-block"> <h4 class="card-title" ng-click="open_app(profile_name);">{{profile_name}}</h4> <a href="#" class="btn btn-default btn-xs" ng-click="delete_app(profile_name)">Delete</a> <a href="#" class="btn btn-default" ng-click="edit_app(profile_name)">Edit</a> </div> </div> </div> </div> </div>')}]);